"""

Revision ID: 18b25b3efd9b
Revises: 5838d398351f
Create Date: 2019-09-30 22:14:05.646663

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import mysql

# revision identifiers, used by Alembic.
revision = '18b25b3efd9b'
down_revision = '5838d398351f'
branch_labels = None
depends_on = None


# adding new actiontypes:
#
#    CREATE_DATUM = 200
#    UPDATE_DATUM = 202
#    LIST_DATUM = 204
#    CREATE_TEST = 300
#    LIST_TEST = 304
#    SEARCH = 500
def upgrade():
    op.alter_column('action', 'type',
        existing_type=sa.Enum('SIGNUP', 'CONFIRM_EMAIL', 'UPDATE_USER', 'PROMOTE_USER', 'LIST_USER', 'UPLOAD_AVATAR', 'RESEND_EMAIL_CONFIRM', name='actiontype'),
        type_=sa.Enum('SIGNUP', 'CONFIRM_EMAIL', 'UPDATE_USER', 'PROMOTE_USER', 'LIST_USER', 'UPLOAD_AVATAR', 'RESEND_EMAIL_CONFIRM', 'CREATE_DATUM', 'UPDATE_DATUM', 'LIST_DATUM', 'CREATE_TEST', 'LIST_TEST', 'SEARCH', name='actiontype'),
        existing_nullable=False,
        existing_server_default=None,
    )


def downgrade():
    op.alter_column('action', 'type',
        type_=sa.Enum('SIGNUP', 'CONFIRM_EMAIL', 'UPDATE_USER', 'PROMOTE_USER', 'LIST_USER', 'UPLOAD_AVATAR', 'RESEND_EMAIL_CONFIRM', name='actiontype'),
        existing_type=sa.Enum('SIGNUP', 'CONFIRM_EMAIL', 'UPDATE_USER', 'PROMOTE_USER', 'LIST_USER', 'UPLOAD_AVATAR', 'RESEND_EMAIL_CONFIRM', 'CREATE_DATUM', 'UPDATE_DATUM', 'LIST_DATUM', 'CREATE_TEST', 'LIST_TEST', 'SEARCH', name='actiontype'),
        existing_nullable=False,
        existing_server_default=None,
    )
