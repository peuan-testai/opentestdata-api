/**
 * @fileoverview Base API class for application/json content-type
 */

import UtilsPromises from 'utils/promises'

export default class Api {

    static get library() {
        return ''
    }

    static fetch(url='', method='GET', body, headers) {
        return UtilsPromises.makeCancelable(() => fetch(`/api/${this.library}${url}`, {
            method,
            body: JSON.stringify(body),
            headers: Object.assign({
                'Content-Type': 'application/json',
            }, headers)
        }))
    }
}
