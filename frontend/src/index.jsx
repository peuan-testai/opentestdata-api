/**
 * @fileoverview OpenTestData App
 */

import React from 'react'
import ReactDOM from 'react-dom'
import { Router, Route, Switch } from 'react-router-dom'

import Home from 'pages/home/index'

import store from 'redux/store/reduxStore'
import * as UsersActions from 'redux/actions/usersActions'

import history from 'utils/history'

import 'styles/main.scss'

class Main extends React.Component {

    render() {

        return (
            <Router history={history}>
                <Switch>
                    <Route exact path='/' component={Home} />
                </Switch>
            </Router>
        )
    }
}

const main = document.getElementById('main')
if (main) ReactDOM.render(<Main />, main)

store.dispatch(UsersActions.me())

if (process.env.NODE_ENV === 'development' && module.hot) module.hot.accept()